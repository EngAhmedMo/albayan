import{c as I,r,d as P,Q as j,T as H,j as e,U as F,t as i,C as K,X as L,V as Q,W as U,Y as V}from"./index-BnXzYopL.js";import{T as X}from"./TopBar-CxYairEo.js";import{C as Y}from"./check-circle-2-BRa1sXkS.js";import{C as Z}from"./chevron-right-CUHZJZ-E.js";import{I as G}from"./infinity-B7Kuwt14.js";import{P as J}from"./plus-jlHNFx9l.js";import{T as ee}from"./trash-2-DB6w517q.js";import{T as te}from"./target-CYoZ6ZE5.js";/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=I("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=I("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),S=[{id:"std_1",label:"سبحان الله",count:0,target:33},{id:"std_2",label:"الحمد لله",count:0,target:33},{id:"std_3",label:"لا إله إلا الله",count:0,target:33},{id:"std_4",label:"الله أكبر",count:0,target:33},{id:"std_5",label:"أستغفر الله",count:0,target:33},{id:"std_6",label:"لا حول ولا قوة إلا بالله",count:0,target:33},{id:"std_7",label:"اللهم صل على محمد",count:0,target:10},{id:"std_8",label:"سبحان الله وبحمده",count:0,target:100}],ue=()=>{const[x,n]=r.useState(0),[b,f]=r.useState(0),[u,g]=r.useState(0),[o,a]=r.useState(33),[w,N]=r.useState(!1),[c,h]=r.useState(0),[C,y]=r.useState([]),d=r.useRef(!1),[A,m]=r.useState(!1),[q,p]=r.useState(!1),{fontSize:D}=P(),l=r.useMemo(()=>[...C,...S],[C]),T=l[c]||S[0];r.useEffect(()=>{y(j());const t=H();t!==null&&a(t)},[]);const M=t=>{a(t),Q(t),n(0),d.current=!1},_=t=>{let s=0;t==="next"?s=(c+1)%l.length:s=(c-1+l.length)%l.length,h(s),n(0),d.current=!1,l[s].target>0&&a(l[s].target),navigator.vibrate&&navigator.vibrate(10)},R=t=>{h(t);const s=l[t];s.target>0&&a(s.target),n(0),m(!1),d.current=!1},$=(t,s)=>{const v={id:Date.now().toString(),label:t,count:0,target:s};V(v),y(j()),p(!1),setTimeout(()=>{h(0),a(s),n(0),d.current=!1},100)},B=t=>{window.confirm("هل أنت متأكد من حذف هذا الذكر؟")&&(U(t),y(j()),T.id===t&&(h(0),n(0),d.current=!1))},k=(t=10)=>{typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(t)},E=()=>{if(d.current)return;N(!0),setTimeout(()=>N(!1),80);const t=x+1;g(s=>s+1),o>0&&t>=o?(d.current=!0,k([30,50,30]),n(o),setTimeout(()=>{f(O=>O+1);const s=(c+1)%l.length;h(s);const v=l[s];v.target>0&&a(v.target),n(0),d.current=!1},400)):(k(8),n(t))},W=()=>{k(20),n(0),f(0),d.current=!1};return e.jsxs("div",{className:"flex flex-col h-full bg-gold-50 dark:bg-navy-950 font-sans overflow-hidden",children:[e.jsx(X,{title:"السبحة الإلكترونية",extra:e.jsx("button",{onClick:()=>m(!0),className:"w-10 h-10 flex items-center justify-center rounded-xl bg-white/80 dark:bg-navy-800/80 backdrop-blur-sm border border-navy-100 dark:border-navy-700 text-navy-600 dark:text-navy-300 hover:border-gold-400 dark:hover:border-gold-500 hover:text-gold-600 dark:hover:text-gold-400 hover:bg-white dark:hover:bg-navy-800 shadow-sm hover:shadow-md transition-all duration-200 active:scale-95",title:"قائمة التسابيح",children:e.jsx(z,{size:22})})}),e.jsxs("div",{className:"flex-1 relative overflow-y-auto custom-scrollbar",children:[e.jsx("div",{className:"absolute inset-0 opacity-5 pointer-events-none bg-[url('https://www.transparenttextures.com/patterns/arabesque.png')] min-h-full"}),e.jsxs("div",{className:"min-h-full flex flex-col justify-between items-center pb-24",children:[e.jsxs("div",{className:"w-full px-6 pt-6 z-10 flex flex-col items-center",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white/60 dark:bg-navy-900/60 backdrop-blur-md px-3 py-1 rounded-full border border-gold-200 dark:border-navy-700 shadow-sm flex items-center gap-2",children:[e.jsx(F,{size:14,className:"text-gold-600"}),e.jsxs("span",{className:"text-xs font-bold text-navy-600 dark:text-navy-300",children:["المجموع: ",i(u)]})]}),b>0&&e.jsxs("div",{className:"bg-emerald-100/60 dark:bg-emerald-900/30 backdrop-blur-md px-3 py-1 rounded-full border border-emerald-200 dark:border-emerald-800 shadow-sm flex items-center gap-2 animate-in fade-in",children:[e.jsx(Y,{size:14,className:"text-emerald-600"}),e.jsxs("span",{className:"text-xs font-bold text-emerald-700 dark:text-emerald-400",children:[i(b)," دورة"]})]})]}),e.jsxs("div",{className:"w-full max-w-sm bg-white/80 dark:bg-navy-900/80 backdrop-blur-lg rounded-3xl p-4 shadow-xl shadow-gold-500/5 border border-white/50 dark:border-navy-700 relative overflow-hidden text-center min-h-[140px] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2",children:[e.jsx("button",{onClick:()=>_("prev"),className:"w-8 h-8 flex shrink-0 items-center justify-center rounded-full bg-navy-50 dark:bg-navy-800 text-navy-400 hover:text-gold-500 transition-colors",children:e.jsx(Z,{size:18})}),e.jsxs("span",{className:"text-[10px] font-bold text-navy-400 bg-navy-50 dark:bg-navy-800 px-2 py-0.5 rounded-full",children:[i(c+1)," / ",i(l.length)]}),e.jsx("button",{onClick:()=>_("next"),className:"w-8 h-8 flex shrink-0 items-center justify-center rounded-full bg-navy-50 dark:bg-navy-800 text-navy-400 hover:text-gold-500 transition-colors",children:e.jsx(K,{size:18})})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center overflow-y-auto custom-scrollbar px-2 py-1",children:e.jsx("h2",{className:"font-quran font-bold text-navy-900 dark:text-white leading-[1.8] text-center break-words w-full",style:{fontSize:`${Math.max(20,Math.min(D*1.2,32))}px`},children:T.label})})]})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center w-full z-10 py-8",children:e.jsxs("button",{onClick:E,className:"relative group outline-none focus:outline-none",style:{WebkitTapHighlightColor:"transparent"},children:[e.jsx("div",{className:`absolute inset-0 rounded-full bg-gold-500/20 blur-xl transition-all duration-200 ${w?"scale-110 opacity-100":"scale-100 opacity-0"}`}),e.jsxs("div",{className:`
                   w-60 h-60 md:w-64 md:h-64 rounded-full 
                   bg-gradient-to-br from-white to-gold-50 dark:from-navy-800 dark:to-navy-950
                   shadow-[0_10px_40px_-10px_rgba(0,0,0,0.1),inset_0_-5px_10px_rgba(0,0,0,0.05)] 
                   dark:shadow-[0_10px_40px_-10px_rgba(0,0,0,0.3),inset_0_1px_1px_rgba(255,255,255,0.1)]
                   border-4 border-white dark:border-navy-700
                   flex flex-col items-center justify-center
                   transition-transform duration-100 ease-out
                   ${w?"scale-95 shadow-inner":"scale-100"}
                `,children:[e.jsx("span",{className:"text-7xl font-sans font-bold text-navy-800 dark:text-white tracking-tighter drop-shadow-sm select-none",children:i(x)}),e.jsx("div",{className:"flex items-center gap-1 mt-2",children:e.jsxs("span",{className:"text-xs font-bold text-navy-400 dark:text-navy-500 uppercase tracking-widest",children:["الهدف: ",o===0?"∞":i(o)]})})]}),e.jsxs("svg",{className:"absolute inset-0 w-full h-full -rotate-90 pointer-events-none",viewBox:"0 0 100 100",children:[e.jsx("circle",{cx:"50",cy:"50",r:"46",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-navy-100 dark:text-navy-800 opacity-50"}),e.jsx("circle",{cx:"50",cy:"50",r:"46",fill:"none",stroke:"currentColor",strokeWidth:"4",strokeDasharray:289,strokeDashoffset:289-(o>0?x/o*289:289),strokeLinecap:"round",className:"text-gold-500 transition-all duration-300"})]})]})}),e.jsx("div",{className:"w-full px-8 pb-6 z-10 mt-auto",children:e.jsxs("div",{className:"bg-white/80 dark:bg-navy-900/80 backdrop-blur-md rounded-2xl p-2 flex justify-between items-center shadow-lg shadow-gold-500/5 border border-white/50 dark:border-navy-700",children:[e.jsx("button",{onClick:W,className:"w-12 h-12 flex items-center justify-center rounded-xl text-navy-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"تصفير",children:e.jsx(se,{size:20})}),e.jsx("div",{className:"h-8 w-px bg-navy-100 dark:bg-navy-800 mx-2"}),e.jsx("div",{className:"flex-1 flex justify-center gap-2",children:[33,100,1e3,0].map(t=>e.jsx("button",{onClick:()=>M(t),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${o===t?"bg-gold-500 text-white shadow-md":"text-navy-500 hover:bg-navy-50 dark:hover:bg-navy-800"}`,children:t===0?e.jsx(G,{size:16,className:"mx-auto"}):i(t)},t))})]})})]})]}),A&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-navy-900/80 backdrop-blur-sm",onClick:()=>m(!1)}),e.jsxs("div",{className:"relative w-full max-w-sm bg-white dark:bg-navy-900 rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 border border-navy-100 dark:border-navy-800 flex flex-col max-h-[80vh]",children:[e.jsxs("div",{className:"p-4 border-b border-navy-100 dark:border-navy-800 flex justify-between items-center bg-navy-50 dark:bg-navy-950",children:[e.jsxs("h3",{className:"font-bold text-lg text-navy-900 dark:text-white flex items-center gap-2",children:[e.jsx(z,{size:20,className:"text-gold-500"})," قائمة التسابيح"]}),e.jsx("button",{onClick:()=>m(!1),children:e.jsx(L,{size:20,className:"text-navy-400"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar space-y-2 bg-white dark:bg-navy-900",children:[e.jsxs("button",{onClick:()=>{m(!1),p(!0)},className:"w-full mb-2 flex items-center justify-center gap-2 p-3 rounded-xl border-2 border-dashed border-navy-200 dark:border-navy-700 text-navy-500 hover:border-gold-500 hover:text-gold-600 hover:bg-gold-50/50 transition-all font-bold",children:[e.jsx(J,{size:18})," إضافة تسبيح جديد"]}),l.map((t,s)=>e.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-xl border transition-all ${s===c?"bg-gold-50 dark:bg-gold-900/20 border-gold-500":"bg-white dark:bg-navy-800 border-navy-100 dark:border-navy-700"}`,children:[e.jsxs("button",{onClick:()=>R(s),className:"flex-1 text-right",children:[e.jsx("p",{className:`font-bold font-quran text-sm ${s===c?"text-navy-900 dark:text-white":"text-navy-600 dark:text-navy-300"}`,children:t.label}),e.jsxs("span",{className:"text-[10px] text-navy-400",children:["الهدف الافتراضي: ",i(t.target)]})]}),!t.id.startsWith("std_")&&e.jsx("button",{onClick:()=>B(t.id),className:"p-2 text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-full transition-colors",children:e.jsx(ee,{size:16})})]},t.id))]})]})]}),q&&e.jsx(ae,{onClose:()=>p(!1),onAdd:$})]})},ae=({onClose:x,onAdd:n})=>{const[b,f]=r.useState(""),[u,g]=r.useState("33"),o=a=>{a.preventDefault(),b.trim()&&n(b,parseInt(u)||33)};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-navy-900/80 backdrop-blur-sm",onClick:x}),e.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-navy-900 rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 border border-navy-100 dark:border-navy-800",children:[e.jsxs("div",{className:"p-5 border-b border-navy-100 dark:border-navy-800 flex justify-between items-center bg-navy-50 dark:bg-navy-800/50",children:[e.jsx("h3",{className:"font-bold text-lg text-navy-800 dark:text-white font-sans",children:"إضافة تسبيح جديد"}),e.jsx("button",{onClick:x,className:"p-1.5 rounded-full hover:bg-navy-200 dark:hover:bg-navy-700 text-navy-500",children:e.jsx(L,{size:20})})]}),e.jsxs("form",{onSubmit:o,className:"p-6 space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-navy-700 dark:text-navy-300 mb-2",children:"نص الذكر / التسبيح"}),e.jsx("textarea",{value:b,onChange:a=>f(a.target.value),className:"w-full p-4 rounded-2xl border bg-white dark:bg-navy-950 border-navy-200 dark:border-navy-700 focus:ring-2 focus:ring-gold-500 outline-none h-32 font-quran text-xl text-navy-900 dark:text-white placeholder:font-sans placeholder:text-sm",placeholder:"اكتب الذكر هنا...",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-navy-700 dark:text-navy-300 mb-2 flex items-center gap-2",children:[e.jsx(te,{size:16,className:"text-gold-500"})," العدد المستهدف (افتراضي)"]}),e.jsx("div",{className:"flex gap-2",children:[33,100,1e3].map(a=>e.jsx("button",{type:"button",onClick:()=>g(a.toString()),className:`flex-1 py-2 rounded-xl text-xs font-bold transition-all border ${u===a.toString()?"bg-gold-500 text-white border-gold-500":"bg-white dark:bg-navy-950 text-navy-500 border-navy-200 dark:border-navy-700"}`,children:i(a)},a))}),e.jsx("input",{type:"number",min:"1",value:u,onChange:a=>g(a.target.value),className:"w-full p-3.5 mt-3 rounded-xl border bg-white dark:bg-navy-950 border-navy-200 dark:border-navy-700 focus:ring-2 focus:ring-gold-500 outline-none text-navy-900 dark:text-white font-bold text-center",placeholder:"أو اكتب عدداً مخصصاً"})]}),e.jsx("button",{type:"submit",className:"w-full py-4 bg-gold-500 hover:bg-gold-600 text-navy-900 font-bold rounded-2xl transition-colors shadow-lg shadow-gold-500/20 mt-2",children:"حفظ وإضافة"})]})]})]})};export{ue as Tasbih};
