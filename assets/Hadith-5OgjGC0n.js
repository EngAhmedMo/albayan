import{c as u,r as n,Z as r,j as e,F as g,B as f,_ as k,$ as N,X as w,a0 as L}from"./index-BnXzYopL.js";import{T as z}from"./TopBar-CxYairEo.js";import{B as h}from"./book-DTAwUgbH.js";import{G as C}from"./globe-CtaQDvfR.js";import{C as S}from"./copy-BdrqPp9n.js";import{S as A}from"./share-2-BZt-WPSg.js";/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=u("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=u("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=u("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=u("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),G=()=>{const[a,i]=n.useState(r.ALL),[c,v]=n.useState(""),[l,x]=n.useState([]),[o,d]=n.useState(!1),m=n.useRef(null),s=[{id:r.ALL,label:"بحث الدرر",icon:e.jsx(g,{size:16})},{id:r.BUKHARI,label:"البخاري",icon:e.jsx(f,{size:16})},{id:r.MUSLIM,label:"مسلم",icon:e.jsx(f,{size:16})},{id:r.NAWAWI,label:"الأربعين",icon:e.jsx(h,{size:16})},{id:r.RIYAD,label:"رياض الصالحين",icon:e.jsx(k,{size:16})}];n.useEffect(()=>{x([]),v(""),a!==r.ALL&&p("",a)},[a]);const p=async(t,b)=>{d(!0);try{const y=await N(t,b);x(y)}catch(y){console.error(y)}finally{d(!1)}},j=t=>{const b=t.target.value;if(v(b),m.current&&clearTimeout(m.current),b.trim().length===0){a===r.ALL?(x([]),d(!1)):p("",a);return}d(!0),m.current=setTimeout(()=>{p(b,a)},1e3)};return e.jsxs("div",{className:"flex flex-col h-full bg-gold-50 dark:bg-navy-950 font-sans",children:[e.jsx(z,{title:"الموسوعة الحديثية"}),e.jsx("div",{className:"px-4 pt-4 sticky top-0 z-20 bg-gold-50/95 dark:bg-navy-950/95 backdrop-blur-sm",children:e.jsx("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar pb-2",children:s.map(t=>e.jsxs("button",{onClick:()=>i(t.id),className:`flex-shrink-0 flex items-center gap-2 px-4 py-2.5 rounded-xl text-xs font-bold transition-all border ${a===t.id?"bg-navy-800 text-white border-navy-800 shadow-md scale-105":"bg-white dark:bg-navy-900 text-navy-600 dark:text-navy-300 border-navy-100 dark:border-navy-700 hover:bg-navy-50"}`,children:[t.icon,e.jsx("span",{children:t.label})]},t.id))})}),e.jsxs("div",{className:"px-4 pt-2 pb-2 z-10",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:c,onChange:j,placeholder:a===r.ALL?"ابحث عن أي حديث في الدرر السنية...":"بحث أو تصفية...",className:"w-full h-12 pl-12 pr-12 rounded-2xl border border-navy-200 dark:border-navy-700 bg-white dark:bg-navy-900 text-navy-900 dark:text-white shadow-sm focus:ring-2 focus:ring-gold-500 outline-none transition-all placeholder:text-navy-400 font-bold text-sm"}),e.jsx("div",{className:"absolute right-4 top-3.5 text-navy-400",children:a===r.ALL?e.jsx(C,{size:20}):e.jsx($,{size:20})}),c&&e.jsx("button",{onClick:()=>{v(""),a!==r.ALL?p("",a):x([])},className:"absolute left-3 top-3 p-1.5 bg-navy-100 dark:bg-navy-800 text-navy-500 rounded-full hover:bg-red-100 hover:text-red-500 transition-colors",children:e.jsx(w,{size:14})})]}),a===r.ALL&&!c&&l.length===0&&e.jsxs("div",{className:"text-center mt-8 opacity-60 animate-in fade-in",children:[e.jsx("div",{className:"w-20 h-20 bg-navy-100 dark:bg-navy-800 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(g,{size:40,className:"text-navy-300 dark:text-navy-500"})}),e.jsx("p",{className:"text-sm font-bold text-navy-600 dark:text-navy-400",children:"ابحث عن صحة الأحاديث"}),e.jsx("p",{className:"text-xs text-navy-400 mt-1",children:"يعتمد البحث على محرك الدرر السنية"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-4 pb-24 custom-scrollbar",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[o&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-10 gap-3 opacity-70",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-gold-500 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-xs font-bold text-navy-500 dark:text-navy-300",children:"جاري الاتصال..."})]}),!o&&l.length>0&&l.map(t=>e.jsx(R,{hadith:t},t.id)),!o&&c&&l.length===0&&e.jsx("div",{className:"text-center py-10 opacity-60",children:e.jsx("p",{className:"text-sm font-bold text-navy-500",children:"لا توجد نتائج مطابقة"})})]})})]})},R=({hadith:a})=>{const[i,c]=n.useState(!1),[v,l]=n.useState(!1),x=s=>s?s.includes("صحيح")||s.includes("جيد")||s.includes("ثابت")?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800":s.includes("حسن")?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 border-blue-200 dark:border-blue-800":s.includes("ضعيف")||s.includes("موضوع")||s.includes("منكر")?"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 border-red-200 dark:border-red-800":"bg-navy-50 dark:bg-navy-800 text-navy-500 dark:text-navy-400 border-navy-100 dark:border-navy-700":"bg-navy-50 text-navy-500 border-navy-100",o=a.explanation&&a.explanation.includes("حكم")?a.explanation.split("|")[0].replace("حكم المحدث:","").trim():null,d=()=>{navigator.clipboard.writeText(`${a.text}

[${a.sourceName}]
${a.explanation||""}`),l(!0),setTimeout(()=>l(!1),2e3)},m=()=>{navigator.share?navigator.share({title:"حديث شريف",text:`${a.text}

[${a.sourceName}]`}).catch(console.error):d()};return e.jsxs("div",{className:"bg-white dark:bg-navy-900 rounded-2xl p-5 shadow-sm border border-navy-100 dark:border-navy-800 hover:shadow-md transition-all group overflow-hidden animate-in slide-in-from-bottom-2 duration-500 relative",children:[e.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-3 mb-4 pb-3 border-b border-navy-50 dark:border-navy-800",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-navy-50 dark:bg-navy-800 rounded-lg text-navy-600 dark:text-gold-500",children:e.jsx(h,{size:18})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-navy-900 dark:text-white text-sm",children:a.sourceName}),a.chapter&&e.jsx("span",{className:"text-[10px] text-navy-500 dark:text-navy-400 block mt-0.5 max-w-[200px] truncate",children:a.chapter})]})]}),o&&e.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[10px] font-bold border ${x(o)}`,children:o})]}),e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"font-quran text-lg sm:text-xl leading-[2.4] text-navy-800 dark:text-gray-100 text-justify",children:a.text})}),e.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:d,className:"p-2 text-navy-400 hover:text-gold-500 hover:bg-gold-50 dark:hover:bg-navy-800 rounded-lg transition-all",title:"نسخ",children:v?e.jsx(B,{size:16,className:"text-emerald-500"}):e.jsx(S,{size:16})}),e.jsx("button",{onClick:m,className:"p-2 text-navy-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-navy-800 rounded-lg transition-all",title:"مشاركة",children:e.jsx(A,{size:16})})]}),a.explanation&&a.explanation.length>5&&e.jsxs("button",{onClick:()=>c(!i),className:"flex items-center gap-1 text-[10px] font-bold text-navy-500 hover:text-navy-800 dark:text-navy-400 dark:hover:text-white transition-colors bg-navy-50 dark:bg-navy-800 px-3 py-1.5 rounded-lg",children:[i?"إخفاء التفاصيل":"التخريج والحكم",i?e.jsx(T,{size:12}):e.jsx(I,{size:12})]})]}),i&&e.jsx("div",{className:"mt-4 pt-3 border-t border-navy-50 dark:border-navy-800 animate-in fade-in",children:e.jsxs("div",{className:"flex gap-2 items-start text-xs text-navy-600 dark:text-navy-300 bg-gold-50/50 dark:bg-navy-950/50 p-3 rounded-xl",children:[e.jsx(L,{size:14,className:"text-gold-500 mt-0.5 shrink-0"}),e.jsx("p",{className:"leading-relaxed",children:a.explanation})]})})]})};export{G as HadithPage};
