import{c as u,u as ze,a as Ce,r as n,N as Ie,b as Pe,d as Ae,e as $e,f as Me,g as Te,s as Be,j as e,t as h,h as Le,i as Re,S as Ee,M as _e,P as De,k as se,l as re,R as He,G as ne,C as Oe,X as H,B as O,m as le,n as qe,o as Fe,p as Ue,q as Ve,v as Ge,w as We,x as oe,y as Je,z as Qe,A as Ke}from"./index-BnXzYopL.js";import{T as Xe}from"./TopBar-CxYairEo.js";import{S as ie}from"./settings-CKUrJuvu.js";import{P as Ye}from"./plus-jlHNFx9l.js";import{C as Ze}from"./chevron-right-CUHZJZ-E.js";import{I as et}from"./infinity-B7Kuwt14.js";import{F as de}from"./file-edit-Bj2vlRrq.js";import{C as tt}from"./copy-BdrqPp9n.js";/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=u("BookmarkCheck",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=u("BookmarkPlus",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=u("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=u("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=u("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=u("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=u("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=u("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=u("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),yt=()=>{var te;const[c,$]=ze(),M=Ce(),{setIsFullscreen:q}=n.useContext(Ie),{isDark:F,toggleTheme:xe}=Pe(),T=n.useRef(!!c.get("surah")||!!c.get("highlight")),[o,b]=n.useState(()=>{const t=c.get("page");if(t)return parseInt(t);if(!c.get("surah")){const a=localStorage.getItem("lastRead");if(a)try{return JSON.parse(a).page}catch{}}return 1}),[y,me]=n.useState([]),[he,p]=n.useState(!1),[i,S]=n.useState(!1),[ue,be]=n.useState([]),[l,z]=n.useState(null),[B,k]=n.useState(null),[ge,j]=n.useState(!1),[fe,U]=n.useState(!1),[ve,L]=n.useState(!1),[ye,N]=n.useState(!1),[R,V]=n.useState("surahs"),{fontSize:w,setFontSize:E,reciterId:f,setReciterId:ct}=Ae(),[C,G]=n.useState(!1),[v,W]=n.useState(!1),[J,Q]=n.useState(""),[K,I]=n.useState(!1),{playTrack:X,currentTrack:x,isPlaying:Y}=$e(),P=n.useRef(null),_="w-10 h-10 flex items-center justify-center rounded-xl bg-white/80 dark:bg-navy-800/80 backdrop-blur-sm border border-navy-100 dark:border-navy-700 text-navy-600 dark:text-navy-300 hover:border-gold-400 dark:hover:border-gold-500 hover:text-gold-600 dark:hover:text-gold-400 hover:bg-white dark:hover:bg-navy-800 shadow-sm hover:shadow-md transition-all duration-200 active:scale-95";n.useEffect(()=>{Me().then(be)},[]),n.useEffect(()=>{if(q(i),i){window.history.pushState({immersive:!0},"");const t=()=>{S(!1)};return window.addEventListener("popstate",t),()=>{window.removeEventListener("popstate",t),q(!1)}}},[i]),n.useEffect(()=>{if(x&&x.globalAyahNumber&&(z(null),Y)){const t=Te(x.globalAyahNumber);t!==o&&b(t),setTimeout(()=>{const a=document.getElementById(`ayah-${x.globalAyahNumber}`);a&&a.scrollIntoView({behavior:"smooth",block:"center"})},100)}},[x==null?void 0:x.globalAyahNumber,Y]),n.useEffect(()=>{if(M.pathname==="/reader"&&M.search===""){T.current=!1;const t=localStorage.getItem("lastRead");if(t)try{const a=JSON.parse(t).page;a!==o&&b(a)}catch{}}else c.get("highlight")&&(T.current=!0)},[M,c]),n.useEffect(()=>{const t=Date.now();return()=>{(Date.now()-t)/1e3>45&&Be("الاستغفار و التوبة")}},[]),n.useEffect(()=>{const t=c.get("surah"),a=c.get("ayah")||"1",s=c.get("page");if(t&&!s)p(!0),fetch(`https://api.alquran.cloud/v1/ayah/${t}:${a}`).then(r=>r.json()).then(r=>{if(r.code===200&&r.data&&r.data.page){const d=r.data.page;b(d),$(m=>{const g=new URLSearchParams(m);return g.set("page",d.toString()),g.set("highlight",`${t}:${a}`),g},{replace:!0})}p(!1)}).catch(()=>p(!1));else if(s){const r=parseInt(s);r!==o&&b(r)}},[c,$]),n.useEffect(()=>{(async()=>{var d;p(!0);const s=await Ge(o,f);if(me(s),p(!1),W(We(o)),s.length>0&&!T.current){const g=((d=s[0].surah)==null?void 0:d.name)||"القرآن";localStorage.setItem("lastRead",JSON.stringify({surah:g,page:o}))}const r=c.get("highlight");r&&s.length>0?setTimeout(()=>{const m=document.getElementById(`ayah-${r}`);m&&(m.scrollIntoView({behavior:"smooth",block:"center"}),m.classList.add("highlight-flash"),setTimeout(()=>m.classList.remove("highlight-flash"),2e3))},600):(P.current&&(P.current.scrollTop=0),i||window.scrollTo({top:0,behavior:"smooth"}))})();const a=c.get("page");o.toString()!==a&&$(s=>{const r=new URLSearchParams(s);return r.set("page",o.toString()),r.delete("highlight"),r.delete("surah"),r.delete("ayah"),r},{replace:!0})},[o,f]);const pe=()=>{o<604&&b(t=>t+1)},ke=()=>{o>1&&b(t=>t-1)},je=t=>{var s;z(t);const a=(s=t.surah)==null?void 0:s.number;if(a){G(se(a,t.numberInSurah));const r=Je(a,t.numberInSurah);Q(r||"")}I(!1),j(!0),k(null)},D=(t,a=0)=>{var s;if(l){const r=l.number,d=oe(f,r);X(d,(s=l.surah)==null?void 0:s.name,`الآية ${h(l.numberInSurah)}`,r,t,a,f),j(!1),z(null)}},Ne=(t,a)=>{let s=1;for(let d=1;d<t;d++)s+=Ke[d]||0;const r=oe(f,s);X(r,a,`الآية ${h(1)}`,s,!0,0,f),z(null)},we=t=>{var d;const a=(d=t.surah)==null?void 0:d.number,s=re(a,t.numberInSurah);if((x==null?void 0:x.globalAyahNumber)===s)return!0;const r=c.get("highlight");return r?r===`${a}:${t.numberInSurah}`:!1},Z=()=>{if(y.length===0)return"المصحف";const t=y.find(a=>a.numberInSurah===1);return t?t.surah.name:y[0].surah.name},Se=t=>{const a=Qe[t];a&&(b(a),N(!1))},ee=t=>{t>=1&&t<=604&&(b(t),N(!1))};return e.jsxs("div",{className:"flex flex-col h-full bg-gold-50 dark:bg-navy-950 relative overflow-hidden transition-colors duration-500",children:[e.jsx("div",{className:`transition-all duration-500 ease-in-out z-40 ${i?"-mt-20 opacity-0 pointer-events-none":"opacity-100"}`,children:e.jsx(Xe,{title:`ص ${h(o)} - ${Z()}`,extra:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("button",{onClick:()=>S(!i),className:_,title:"ملء الشاشة",children:i?e.jsx(ce,{size:20}):e.jsx(nt,{size:20})}),e.jsx("button",{onClick:()=>L(!0),className:_,title:"الإعدادات",children:e.jsx(ie,{size:20})}),e.jsx("button",{onClick:()=>{v?Le(o):Re(Z(),o),W(!v)},className:`${_} ${v?"!text-red-500 !border-red-200 dark:!border-red-900 bg-red-50 dark:bg-red-900/10":""}`,title:v?"إزالة الفاصل":"حفظ الصفحة",children:v?e.jsx(at,{size:20}):e.jsx(st,{size:20})})]})})}),e.jsxs("div",{ref:P,className:`
          flex-1 overflow-y-auto overflow-x-hidden flex justify-center relative transition-all duration-500 custom-scrollbar scroll-smooth
          ${i?"fixed inset-0 z-50 bg-[#1a202c]/95 backdrop-blur-xl h-screen w-screen p-0":"p-2 sm:p-4 pb-40"}
        `,onClick:t=>{i&&t.target===P.current&&S(!1)},children:[i&&e.jsxs("div",{onClick:t=>t.stopPropagation(),className:"fixed top-6 left-6 z-[60] flex flex-col gap-3 animate-in fade-in slide-in-from-top-4",children:[e.jsxs("div",{className:"flex flex-col bg-navy-900/80 dark:bg-black/50 backdrop-blur-md rounded-2xl p-1.5 border border-white/10 shadow-lg",children:[e.jsx("button",{onClick:()=>E(Math.min(w+2,50)),className:"w-10 h-10 flex items-center justify-center text-white hover:bg-white/10 rounded-xl transition-colors",title:"تكبير الخط",children:e.jsx(Ye,{size:20})}),e.jsx("div",{className:"h-px bg-white/10 w-full my-1"}),e.jsx("button",{onClick:()=>E(Math.max(w-2,18)),className:"w-10 h-10 flex items-center justify-center text-white hover:bg-white/10 rounded-xl transition-colors",title:"تصغير الخط",children:e.jsx(lt,{size:20})})]}),e.jsx("button",{onClick:xe,className:"w-14 h-14 rounded-full bg-navy-900/80 dark:bg-gold-500/80 backdrop-blur-md flex items-center justify-center text-gold-500 dark:text-navy-900 shadow-lg border border-white/10 hover:scale-110 transition-transform",title:F?"الوضع النهاري":"الوضع الليلي",children:F?e.jsx(Ee,{size:24,fill:"currentColor"}):e.jsx(_e,{size:24})})]}),i&&e.jsxs("button",{onClick:t=>{t.stopPropagation(),S(!1)},className:"fixed bottom-8 left-8 z-[60] group flex items-center justify-center gap-0 hover:gap-3 bg-navy-900/90 text-white dark:bg-gold-500/90 dark:text-navy-900 shadow-[0_10px_30px_rgba(0,0,0,0.3)] backdrop-blur-md rounded-full w-14 h-14 hover:w-32 transition-all duration-300 ease-out overflow-hidden border border-white/10 hover:border-gold-500",title:"خروج من وضع القراءة",children:[e.jsx(ce,{size:24,className:"shrink-0"}),e.jsx("span",{className:"max-w-0 group-hover:max-w-xs opacity-0 group-hover:opacity-100 whitespace-nowrap font-bold text-sm transition-all duration-300",children:"خروج"})]}),he?e.jsxs("div",{className:"w-full max-w-4xl mx-auto h-[80vh] flex flex-col items-center justify-center space-y-6 animate-pulse",children:[e.jsx("div",{className:"w-3/4 h-8 bg-gold-200 dark:bg-navy-800 rounded-lg"}),e.jsx("div",{className:"w-full h-full bg-white dark:bg-navy-900 rounded-2xl shadow-sm border border-gold-100 dark:border-navy-800 opacity-60"})]}):e.jsx("div",{className:`
              transition-all duration-500 mx-auto
              ${i?"w-full md:w-[90%] lg:w-[80%] max-w-[1000px] min-h-full py-0 md:py-8":"w-full max-w-4xl"} 
            `,children:e.jsxs("div",{className:`
                relative bg-[#fffcf5] dark:bg-[#1a202c] shadow-2xl overflow-hidden min-h-[85vh] transition-all duration-500
                ${i?"min-h-full md:min-h-[calc(100vh-4rem)] md:rounded-2xl border-none md:border border-white/5 shadow-2xl":"rounded-2xl border border-gold-900/5 dark:border-navy-700"}
             `,children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none z-0 bg-gradient-to-r from-black/5 via-transparent to-black/5 dark:from-black/40 dark:via-transparent dark:to-black/40"}),!i&&e.jsxs("div",{className:"absolute inset-0 pointer-events-none p-2 sm:p-4 z-0",children:[e.jsx("div",{className:"w-full h-full border-2 border-gold-600/20 dark:border-gold-500/10 rounded-lg"}),e.jsx("div",{className:"absolute inset-3 sm:inset-5 border border-gold-600/10 dark:border-gold-500/5 rounded-md"}),e.jsx(A,{className:"top-2 right-2"}),e.jsx(A,{className:"top-2 left-2 -scale-x-100"}),e.jsx(A,{className:"bottom-2 right-2 -scale-y-100"}),e.jsx(A,{className:"bottom-2 left-2 -scale-x-100 -scale-y-100"})]}),e.jsxs("div",{className:`
                   relative z-10 flex flex-col items-center w-full
                   ${i?"px-4 py-12 pb-32 sm:px-12 md:px-16 lg:px-20":"px-4 sm:px-10 py-10 sm:py-14"}
                `,children:[v&&!i&&e.jsx("div",{className:"absolute -top-1 left-8 w-6 h-12 bg-red-700 shadow-md z-20 animate-in fade-in slide-in-from-top-4",children:e.jsx("div",{className:"absolute bottom-0 left-0 w-0 h-0 border-l-[12px] border-r-[12px] border-t-[8px] border-l-transparent border-r-transparent border-t-red-700 transform rotate-180 translate-y-full"})}),y.map((t,a)=>{if(t.numberInSurah===1){const s=t.surah;return e.jsxs("div",{className:"w-full mt-2 mb-6 text-center",children:[e.jsxs("div",{className:"relative flex items-center justify-center py-3 my-4",children:[e.jsx("div",{className:"absolute inset-x-0 h-10 bg-[url('https://www.transparenttextures.com/patterns/arabesque.png')] opacity-10 dark:opacity-5 bg-gold-600"}),e.jsx("div",{className:"absolute inset-x-10 top-1/2 h-[2px] bg-gradient-to-r from-transparent via-gold-400 to-transparent"}),e.jsxs("div",{className:"relative z-10 bg-[#fffcf5] dark:bg-[#1a202c] px-6 py-1 border border-gold-500/30 rounded-full shadow-sm flex items-center gap-3",children:[e.jsx("h2",{className:"font-quran text-2xl text-navy-900 dark:text-gold-100",children:s.name}),e.jsx("button",{onClick:()=>Ne(s.number,s.name),className:"p-1.5 bg-gold-500 text-white rounded-full hover:bg-gold-600 transition-colors shadow-sm",title:"تشغيل السورة كاملة",children:e.jsx(De,{size:14,fill:"currentColor"})})]})]}),s.number!==1&&s.number!==9&&e.jsx("div",{className:"font-quran text-2xl text-navy-800 dark:text-navy-200 mb-6 mt-2 opacity-90",children:"بِسْمِ ٱللَّهِ ٱلرَّحْمَٰنِ ٱلرَّحِيمِ"})]},`head-${a}`)}return null}),e.jsx("div",{className:"font-quran text-justify text-navy-950 dark:text-gray-200 leading-[3] w-full",style:{textAlignLast:"center",fontSize:`${w}px`,fontFeatureSettings:'"cv01" on, "cv02" on'},dir:"rtl",children:y.map(t=>{var g,ae;let a=t.text;t.numberInSurah===1&&t.number!==1&&(a=a.replace("بِسْمِ ٱللَّهِ ٱلرَّحْمَٰنِ ٱلرَّحِيمِ","").trim());const s=se((g=t.surah)==null?void 0:g.number,t.numberInSurah),r=we(t),d=re((ae=t.surah)==null?void 0:ae.number,t.numberInSurah),m=(l==null?void 0:l.number)===t.number;return e.jsxs(He.Fragment,{children:[e.jsx("span",{id:`ayah-${d}`,onClick:()=>je(t),className:`
                                relative rounded px-0.5 cursor-pointer decoration-clone transition-all duration-300
                                hover:bg-gold-100 dark:hover:bg-navy-800
                                ${m?"bg-gold-200/50 dark:bg-gold-900/30":""}
                                ${r?"bg-gold-300/80 dark:bg-gold-600/60 shadow-sm text-navy-950 dark:text-white font-bold scale-[1.02] inline-block px-1":""}
                                ${s?"underline decoration-red-400 decoration-2 underline-offset-8":""}
                              `,children:a}),e.jsxs("span",{className:"inline-flex items-center justify-center mx-1 align-middle select-none text-gold-600 dark:text-gold-500 font-sans font-bold h-[1em] w-[1em] relative",style:{fontSize:`${w*.9}px`},children:[e.jsx("span",{className:"absolute inset-0 opacity-100",children:e.jsxs("svg",{viewBox:"0 0 36 36",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"w-full h-full drop-shadow-sm",children:[e.jsx("circle",{cx:"18",cy:"18",r:"17"}),e.jsx("path",{d:"M18 4V8 M18 28V32 M4 18H8 M28 18H32 M9 9L11 11 M25 25L27 27 M9 27L11 25 M25 11L27 9",strokeWidth:"1",opacity:"0.6"})]})}),e.jsx("span",{className:"relative z-10 text-[0.45em] mt-0.5",children:h(t.numberInSurah)})]})]},t.number)})})]})]})})]}),e.jsxs("div",{className:`fixed left-0 right-0 h-16 bg-white/95 dark:bg-navy-900/95 border-t border-navy-100 dark:border-navy-800 flex justify-between items-center px-6 z-40 transition-all duration-500 shadow-[0_-5px_20px_rgba(0,0,0,0.05)] backdrop-blur-md
          ${i?"translate-y-[200%]":"translate-y-0"}
          ${x?"bottom-[70px] md:bottom-[70px]":"bottom-[70px] md:bottom-0"} 
        `,children:[e.jsxs("button",{onClick:pe,disabled:o>=604,className:"flex flex-row-reverse items-center gap-2 text-navy-700 dark:text-navy-300 disabled:opacity-30 hover:bg-gold-50 dark:hover:bg-navy-800 px-4 py-2 rounded-xl transition-colors",children:[e.jsx(Ze,{size:20,className:"rotate-180"}),e.jsx("span",{className:"font-bold text-sm hidden sm:inline",children:"الصفحة التالية"})]}),e.jsxs("div",{className:"flex flex-col items-center cursor-pointer hover:scale-105 transition-transform",onClick:()=>N(!0),children:[e.jsx("span",{className:"text-[10px] text-navy-400 font-bold mb-0.5",children:"رقم الصفحة"}),e.jsxs("span",{className:"text-base font-bold text-navy-900 dark:text-white bg-gold-100 dark:bg-navy-800 px-4 py-0.5 rounded-lg border border-gold-200 dark:border-navy-700 shadow-inner flex items-center gap-2",children:[e.jsx(ne,{size:14,className:"text-gold-600 dark:text-gold-400 opacity-70"}),h(o)]})]}),e.jsxs("button",{onClick:ke,disabled:o<=1,className:"flex flex-row-reverse items-center gap-2 text-navy-700 dark:text-navy-300 disabled:opacity-30 hover:bg-gold-50 dark:hover:bg-navy-800 px-4 py-2 rounded-xl transition-colors",children:[e.jsx("span",{className:"font-bold text-sm hidden sm:inline",children:"الصفحة السابقة"}),e.jsx(Oe,{size:20,className:"rotate-180"})]})]}),ye&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4 animate-in slide-in-from-bottom-10",children:[e.jsx("div",{className:"absolute inset-0 bg-navy-900/60 backdrop-blur-sm",onClick:()=>N(!1)}),e.jsxs("div",{className:"relative w-full sm:max-w-md bg-white dark:bg-navy-950 rounded-t-3xl sm:rounded-3xl shadow-2xl overflow-hidden border-t-4 border-gold-500 h-[70vh] flex flex-col",children:[e.jsxs("div",{className:"p-4 bg-navy-50 dark:bg-navy-900 border-b border-navy-100 dark:border-navy-800",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"font-bold text-lg text-navy-900 dark:text-white flex items-center gap-2",children:[e.jsx(ne,{size:20,className:"text-gold-500"})," الانتقال السريع"]}),e.jsx("button",{onClick:()=>N(!1),className:"p-1.5 rounded-full hover:bg-navy-200 dark:hover:bg-navy-800 text-navy-500",children:e.jsx(H,{size:20})})]}),e.jsxs("div",{className:"flex bg-white dark:bg-navy-950 p-1 rounded-xl border border-navy-100 dark:border-navy-800",children:[e.jsxs("button",{onClick:()=>V("surahs"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${R==="surahs"?"bg-gold-500 text-white shadow-md":"text-navy-500 hover:bg-navy-50 dark:hover:bg-navy-800"}`,children:[e.jsx(O,{size:16})," السور"]}),e.jsxs("button",{onClick:()=>V("pages"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${R==="pages"?"bg-gold-500 text-white shadow-md":"text-navy-500 hover:bg-navy-50 dark:hover:bg-navy-800"}`,children:[e.jsx(rt,{size:16})," الصفحات"]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar bg-white dark:bg-navy-950",children:R==="surahs"?e.jsx("div",{className:"grid grid-cols-3 gap-2",children:ue.map(t=>e.jsxs("button",{onClick:()=>Se(t.number),className:"flex flex-col items-center justify-center p-3 rounded-xl border border-navy-100 dark:border-navy-800 hover:border-gold-500 dark:hover:border-gold-500 hover:bg-gold-50 dark:hover:bg-navy-900 transition-all text-center group",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-navy-50 dark:bg-navy-800 flex items-center justify-center text-xs font-bold text-navy-400 group-hover:bg-gold-500 group-hover:text-white transition-colors mb-1 font-sans",children:t.number}),e.jsx("span",{className:"font-quran font-bold text-navy-800 dark:text-white text-base truncate w-full",children:t.name})]},t.number))}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-navy-50 dark:bg-navy-900 p-2 rounded-xl",children:[e.jsx("span",{className:"text-sm font-bold text-navy-500 px-2",children:"رقم الصفحة:"}),e.jsx("input",{type:"number",min:"1",max:"604",placeholder:"1-604",className:"flex-1 p-2 rounded-lg bg-white dark:bg-navy-950 border border-navy-200 dark:border-navy-800 text-center font-bold outline-none focus:ring-2 focus:ring-gold-500",onKeyDown:t=>{t.key==="Enter"&&ee(parseInt(t.target.value))}}),e.jsx("button",{className:"bg-gold-500 text-white p-2 rounded-lg font-bold text-sm shadow-md",children:"انتقال"})]}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:Array.from({length:30}).map((t,a)=>e.jsxs("button",{onClick:()=>ee(a*20+2),className:"p-3 rounded-xl border border-navy-100 dark:border-navy-800 hover:bg-gold-50 dark:hover:bg-navy-900 transition-colors text-center",children:[e.jsx("span",{className:"text-[10px] text-navy-400 block",children:"الجزء"}),e.jsx("span",{className:"font-bold text-navy-800 dark:text-white text-lg",children:h(a+1)})]},a))})]})})]})]}),ve&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:[e.jsx("div",{className:"absolute inset-0 bg-navy-900/60 backdrop-blur-sm",onClick:()=>L(!1)}),e.jsxs("div",{className:"relative w-full max-w-sm bg-white dark:bg-navy-900 rounded-3xl shadow-2xl overflow-hidden border border-navy-100 dark:border-navy-800",children:[e.jsxs("div",{className:"p-5 border-b border-navy-100 dark:border-navy-800 flex justify-between items-center bg-navy-50 dark:bg-navy-950",children:[e.jsxs("h3",{className:"font-bold text-lg text-navy-900 dark:text-white flex items-center gap-2",children:[e.jsx(ie,{size:20,className:"text-gold-500"})," إعدادات العرض"]}),e.jsx("button",{onClick:()=>L(!1),className:"p-1.5 rounded-full hover:bg-navy-200 dark:hover:bg-navy-800 text-navy-500",children:e.jsx(H,{size:20})})]}),e.jsx("div",{className:"p-8 space-y-8",children:e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-navy-700 dark:text-navy-300 mb-3",children:[e.jsx(dt,{size:18,className:"text-gold-500"})," حجم الخط"]}),e.jsxs("div",{className:"flex items-center gap-3 bg-navy-50 dark:bg-navy-950 p-3 rounded-xl border border-navy-100 dark:border-navy-800",children:[e.jsx("span",{className:"text-xs font-bold text-navy-400",children:"A"}),e.jsx("input",{type:"range",min:"18",max:"50",value:w,onChange:t=>E(parseInt(t.target.value)),className:"flex-1 accent-gold-600 h-2 bg-navy-200 dark:bg-navy-700 rounded-lg cursor-pointer"}),e.jsx("span",{className:"text-xl font-bold text-navy-900 dark:text-white",children:"A"})]})]})})]})]}),ge&&l&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end justify-center sm:items-center p-0 sm:p-4 isolate",children:[e.jsx("div",{className:"absolute inset-0 bg-navy-900/80 backdrop-blur-sm transition-opacity duration-300",onClick:()=>j(!1)}),e.jsxs("div",{className:"relative w-full sm:max-w-lg bg-white dark:bg-navy-950 rounded-t-3xl sm:rounded-3xl shadow-[0_-10px_40px_rgba(0,0,0,0.3)] border-t-4 border-gold-500 overflow-hidden flex flex-col max-h-[85vh] animate-in slide-in-from-bottom-full duration-300 ease-out",children:[e.jsxs("div",{className:"flex-shrink-0 p-5 border-b border-navy-100 dark:border-navy-800 bg-gradient-to-b from-navy-50 to-white dark:from-navy-900 dark:to-navy-950 relative",children:[e.jsx("button",{onClick:()=>j(!1),className:"absolute top-4 left-4 p-2 bg-white dark:bg-navy-800 rounded-full text-navy-400 hover:text-red-500 shadow-sm hover:shadow-md transition-all z-10",children:e.jsx(H,{size:20})}),e.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 pt-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gold-500/20 rotate-45 rounded-xl blur-sm"}),e.jsx("span",{className:"relative w-14 h-14 flex items-center justify-center bg-gold-500 text-white font-bold text-2xl rounded-2xl shadow-lg font-sans border-2 border-white dark:border-navy-800",children:h(l.numberInSurah)})]}),e.jsxs("div",{className:"text-center mt-1",children:[e.jsx("h3",{className:"font-quran text-2xl font-bold text-navy-900 dark:text-white",children:(te=l.surah)==null?void 0:te.name}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs font-bold text-navy-500 dark:text-navy-400 mt-1",children:[e.jsxs("span",{className:"bg-navy-100 dark:bg-navy-800 px-2 py-0.5 rounded-md",children:["الجزء ",h(l.juz)]}),e.jsx("span",{className:"w-1 h-1 bg-gold-500 rounded-full"}),e.jsxs("span",{className:"bg-navy-100 dark:bg-navy-800 px-2 py-0.5 rounded-md",children:["صفحة ",h(o)]})]})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-slate-50 dark:bg-navy-950",children:[e.jsxs("div",{className:"p-5 pb-10 space-y-6",children:[e.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{icon:e.jsx(ot,{size:26}),label:"استماع",action:()=>D(!1),color:"from-indigo-600 to-indigo-700 shadow-indigo-500/20"},{icon:e.jsx(le,{size:26}),label:"إكمال التلاوة",action:()=>D(!0),color:"from-purple-600 to-purple-700 shadow-purple-500/20"},{icon:e.jsx(O,{size:26}),label:"تفسير",action:()=>{I(!1),B?k(null):(U(!0),qe(l.surah.number,l.numberInSurah).then(t=>{k(t),U(!1)}))},color:"from-emerald-600 to-emerald-700 shadow-emerald-500/20"},{icon:e.jsx(Ue,{size:26,className:C?"fill-current":""}),label:C?"محفوظة":"حفظ",action:()=>{Fe({surahName:l.surah.name,surahNumber:l.surah.number,ayahNumber:l.numberInSurah,pageNumber:o,timestamp:Date.now()}),G(!C)},color:C?"from-red-600 to-red-700 shadow-red-500/20":"from-navy-600 to-navy-700 shadow-navy-500/20"}].map((t,a)=>e.jsxs("button",{onClick:t.action,className:"group flex flex-col items-center gap-2",children:[e.jsx("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-br ${t.color} text-white flex items-center justify-center shadow-lg transition-transform group-active:scale-95 group-hover:scale-105`,children:t.icon}),e.jsx("span",{className:"text-[11px] font-bold text-navy-700 dark:text-navy-300",children:t.label})]},a))}),e.jsxs("div",{className:"bg-white dark:bg-navy-900 rounded-xl p-3 border border-navy-100 dark:border-navy-800 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 px-1",children:[e.jsx(le,{size:16,className:"text-gold-500"}),e.jsx("span",{className:"text-xs font-bold text-navy-800 dark:text-white",children:"أدوات التحفيظ (تكرار الآية)"})]}),e.jsx("div",{className:"flex justify-between gap-2",children:[{label:"3 مرات",count:3},{label:"5 مرات",count:5},{label:"10 مرات",count:10},{label:"لا نهائي",count:100}].map((t,a)=>e.jsxs("button",{onClick:()=>D(!1,t.count),className:"flex-1 py-2 px-1 bg-navy-50 dark:bg-navy-800 hover:bg-gold-500 hover:text-white dark:hover:bg-gold-500 rounded-lg text-[10px] font-bold text-navy-600 dark:text-navy-300 transition-colors flex items-center justify-center gap-1",children:[t.count===100?e.jsx(et,{size:14}):t.count,t.count!==100&&"مرات"]},a))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>{k(null),I(!K)},className:"flex-1 py-3 bg-white dark:bg-navy-800 rounded-xl border border-navy-100 dark:border-navy-700 flex items-center justify-center gap-2 text-xs font-bold text-navy-600 dark:text-navy-300 hover:bg-gold-50 dark:hover:bg-navy-700 transition-colors",children:[e.jsx(de,{size:16})," تدوين ملاحظة"]}),e.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(l.text),j(!1)},className:"flex-1 py-3 bg-white dark:bg-navy-800 rounded-xl border border-navy-100 dark:border-navy-700 flex items-center justify-center gap-2 text-xs font-bold text-navy-600 dark:text-navy-300 hover:bg-gold-50 dark:hover:bg-navy-700 transition-colors",children:[e.jsx(tt,{size:16})," نسخ النص"]})]}),e.jsx("hr",{className:"border-navy-100 dark:border-navy-800"}),e.jsx("div",{className:"min-h-[150px] transition-all duration-300",children:fe?e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-navy-100 border-t-gold-500"}),e.jsx("p",{className:"text-xs font-bold text-navy-400",children:"جاري جلب التفسير..."})]}):B?e.jsxs("div",{className:"bg-white dark:bg-navy-900 p-5 rounded-2xl shadow-sm border border-gold-100 dark:border-navy-800 animate-in fade-in zoom-in-95",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-navy-50 dark:border-navy-800 pb-2",children:[e.jsxs("h4",{className:"text-sm font-bold text-gold-600 dark:text-gold-500 flex items-center gap-2",children:[e.jsx(O,{size:16})," التفسير الميسر"]}),e.jsx("button",{onClick:()=>k(null),className:"text-xs text-navy-400 hover:text-red-500 font-bold",children:"إغلاق"})]}),e.jsx("p",{className:"text-base leading-loose text-navy-800 dark:text-gray-300 font-serif text-justify",children:B.text})]}):K?e.jsxs("div",{className:"space-y-3 animate-in fade-in slide-in-from-bottom-2",children:[e.jsxs("label",{className:"text-sm font-bold text-navy-700 dark:text-navy-300 flex items-center gap-2",children:[e.jsx(de,{size:16,className:"text-gold-500"})," خواطرك حول الآية"]}),e.jsx("textarea",{value:J,onChange:t=>Q(t.target.value),placeholder:"اكتب تدبرك هنا...",className:"w-full p-4 rounded-2xl bg-white dark:bg-navy-900 border border-navy-200 dark:border-navy-800 focus:ring-2 focus:ring-gold-500 outline-none text-base min-h-[120px] text-navy-900 dark:text-white resize-none shadow-inner"}),e.jsxs("button",{onClick:()=>{Ve({surahName:l.surah.name,surahNumber:l.surah.number,ayahNumber:l.numberInSurah,pageNumber:o,text:J,timestamp:Date.now()}),I(!1)},className:"w-full py-3.5 bg-navy-800 hover:bg-navy-700 text-white rounded-xl font-bold shadow-lg shadow-navy-900/20 flex items-center justify-center gap-2 transition-colors",children:[e.jsx(it,{size:18})," حفظ الملاحظة"]})]}):e.jsx("div",{className:"text-center pt-2 pb-6",children:e.jsxs("div",{className:"relative p-6 bg-slate-50 dark:bg-[#111827] rounded-3xl shadow-sm border border-navy-50 dark:border-navy-800",children:[e.jsx("span",{className:"absolute top-4 right-4 text-4xl text-gold-200 dark:text-navy-800 font-serif leading-none",children:"“"}),e.jsx("p",{className:"font-quran text-2xl leading-[2.6] text-navy-900 dark:text-white relative z-10",children:l.text})]})})})]}),e.jsx("div",{className:"h-10 sm:h-6"})]})]})]})]})},A=({className:c})=>e.jsx("div",{className:`absolute w-20 h-20 pointer-events-none opacity-30 dark:opacity-20 ${c}`,children:e.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",className:"w-full h-full text-gold-600 dark:text-gold-400",children:[e.jsx("path",{d:"M0 0 H40 M0 0 V40",stroke:"currentColor",strokeWidth:"3"}),e.jsx("path",{d:"M10 10 H35 M10 10 V35",stroke:"currentColor",strokeWidth:"1"}),e.jsx("path",{d:"M5 5 Q 80 5 95 95",stroke:"currentColor",strokeWidth:"1",strokeDasharray:"4 2"})]})});export{yt as QuranReader};
