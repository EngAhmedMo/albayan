import{c as g,I as X,r as x,g as T,j as e,B as R,t as d,J as ee,K as te,L as W,O as ae}from"./index-BnXzYopL.js";import{T as Z}from"./TopBar-CxYairEo.js";import{A as se}from"./arrow-left-BcjpJkZm.js";import{T as re}from"./target-CYoZ6ZE5.js";import{C as ne}from"./chevron-right-CUHZJZ-E.js";import{S as le}from"./settings-CKUrJuvu.js";import{C as B}from"./check-circle-2-BRa1sXkS.js";/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=g("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=g("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=g("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=g("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=g("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=g("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=g("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=g("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),w=604,N=6236,F="albayan_hifz_plan_v1",we=()=>{const M=X(),[t,S]=x.useState(null),[l,D]=x.useState(!1),[n,C]=x.useState("pages"),[u,A]=x.useState(1),[b,z]=x.useState(6),[f,I]=x.useState(1),P=()=>{const a=new Date,s=a.getFullYear(),r=String(a.getMonth()+1).padStart(2,"0"),o=String(a.getDate()).padStart(2,"0");return`${s}-${r}-${o}`};x.useEffect(()=>{const a=localStorage.getItem(F);S(a?JSON.parse(a):{isSetup:!1,planType:"pages",amountPerDay:2,daysPerWeek:6,currentProgress:0,startPoint:1,history:[],lastCompletedDate:null})},[]);const $=a=>{S(a),localStorage.setItem(F,JSON.stringify(a))},O=x.useMemo(()=>{if(!t||t.history.length===0)return 0;const a=[...new Set(t.history)].sort(),s=P(),r=a[a.length-1];if(!r)return 0;const o=new Date(s),i=new Date(r),k=Math.abs(o.getTime()-i.getTime());if(Math.ceil(k/(1e3*60*60*24))>1)return 0;let p=0,h=i;for(let c=a.length-1;c>=0;c--){const y=a[c];if(!y)break;if(new Date(y).getTime()===h.getTime())p++,h.setDate(h.getDate()-1);else break}return p},[t==null?void 0:t.history]),_=()=>{if(!t)return;let a=f,s=0,r=t.history,o=t.lastCompletedDate;if(t.isSetup)if(t.planType!==n){const i=t.startPoint+t.currentProgress;t.planType==="pages"&&n==="ayahs"?a=W(i):t.planType==="ayahs"&&n==="pages"&&(a=T(i)),s=0,alert(`تم تحويل تقدمك بنجاح! 
نقطة البداية الجديدة: ${n==="pages"?"صفحة":"آية"} ${a}`)}else t.startPoint!==f?(a=f,s=0):(a=t.startPoint,s=t.currentProgress);else r=[],o=null;$({...t,isSetup:!0,planType:n,amountPerDay:u,daysPerWeek:b,startPoint:a,history:r,currentProgress:s,lastCompletedDate:o}),D(!1)},J=()=>{if(!t)return;const a=P();if(t.lastCompletedDate===a)return;const s=t.planType==="pages"?w:N,r=Math.min(t.currentProgress+t.amountPerDay,s-(t.startPoint-1));$({...t,currentProgress:r,lastCompletedDate:a,history:[...t.history,a]}),navigator.vibrate&&navigator.vibrate([50,50,50])},U=()=>{if(!t)return;const a=t.startPoint+t.currentProgress;if(t.planType==="pages"){const s=Math.min(Math.max(a,1),604);M(`/reader?page=${s}`)}else{const s=Math.min(Math.max(a,1),6236),r=ae(s),o=T(s);M(`/reader?surah=${r.surahNumber}&ayah=${r.ayahInSurah}&page=${o}&highlight=${r.surahNumber}:${r.ayahInSurah}`)}},V=(a,s)=>s==="pages"?a<=1?"بداية هادئة":a<=2?"ميسر (ننصح به)":a<=5?"همة متوسطة":"همة عالية":a<=5?"بداية هادئة":a<=10?"ميسر (ننصح به)":a<=30?"همة متوسطة":"همة عالية",L=()=>{if(!t)return{date:"",remainingDays:0};const a=l||!t.isSetup?u:t.amountPerDay,s=l||!t.isSetup?b:t.daysPerWeek,r=l||!t.isSetup?n:t.planType,o=l||!t.isSetup?f:t.startPoint,i=t.isSetup&&!l&&r===t.planType?t.currentProgress:0,v=Math.max(0,(r==="pages"?w:N)-(o-1)-i);if(v<=0)return{date:"مكتمل",remainingDays:0};const p=a*s;if(p===0)return{date:"غير محدد",remainingDays:0};const c=v/p*7,y=new Date;return y.setDate(y.getDate()+c),{date:y.toLocaleDateString("ar-EG",{month:"long",year:"numeric"}),remainingDays:Math.ceil(c)}},Y=()=>{if(!t)return 0;const a=t.startPoint+t.currentProgress,s=t.planType==="pages"?w:N;return Math.min(a,s)},q=(t==null?void 0:t.lastCompletedDate)===P(),K=L(),Q=Y(),H=(t==null?void 0:t.planType)==="pages"?w:N,E=H-(t?t.startPoint-1:0),G=E>0?Math.min(100,Math.round(((t==null?void 0:t.currentProgress)||0)/E*100)):100,j=(t==null?void 0:t.currentProgress)!==void 0&&t.startPoint+t.currentProgress>H,m=x.useMemo(()=>{if(!(t!=null&&t.isSetup)||!l||t.planType===n)return null;const a=t.startPoint+t.currentProgress;let s=0;return t.planType==="pages"&&n==="ayahs"?s=W(a):s=T(a),{from:t.planType==="pages"?`الصفحة ${a}`:`الآية ${a}`,to:n==="pages"?`الصفحة ${s}`:`الآية ${s}`,newStart:s}},[t,l,n]);if(!t)return null;if(!t.isSetup||l){const a=L();return e.jsxs("div",{className:"flex flex-col h-full bg-gold-50 dark:bg-navy-950 font-sans",children:[e.jsx(Z,{title:l?"تعديل الخطة":"إعداد خطة الحفظ",showBack:l,extra:l&&e.jsx("button",{onClick:()=>D(!1),className:"p-2 rounded-full hover:bg-navy-100 dark:hover:bg-navy-800",children:e.jsx(se,{size:20})})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 pb-24 space-y-8 max-w-lg mx-auto w-full custom-scrollbar",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gold-400 to-gold-600 rounded-2xl mx-auto flex items-center justify-center text-white shadow-lg shadow-gold-500/30 transform rotate-3",children:e.jsx(re,{size:32})}),e.jsx("h2",{className:"text-2xl font-bold text-navy-900 dark:text-white",children:"بناء العادة القرآنية"}),e.jsx("p",{className:"text-navy-500 dark:text-navy-400 text-sm",children:"حدد هدفك اليومي وأيام التفرغ، وسنحسب لك خطة الختم."}),e.jsx("p",{className:"text-xs text-gold-600 dark:text-gold-400 font-bold bg-gold-50 dark:bg-navy-900 px-3 py-1.5 rounded-full inline-block mt-2",children:'"قليل دائم خير من كثير منقطع"'})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-bold text-navy-700 dark:text-navy-300 flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-navy-200 dark:bg-navy-700 flex items-center justify-center text-xs font-bold",children:"1"}),"طريقة الحفظ"]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:["pages","ayahs"].map(s=>e.jsxs("button",{onClick:()=>C(s),className:`py-4 px-2 rounded-2xl text-sm font-bold transition-all border-2 flex flex-col items-center gap-2 ${n===s?"bg-navy-900 text-white border-navy-900 dark:bg-gold-500 dark:border-gold-500 dark:text-navy-900 shadow-md":"bg-white dark:bg-navy-900 text-navy-500 border-transparent hover:border-navy-100 dark:hover:border-navy-700"}`,children:[s==="pages"?e.jsx(R,{size:20}):e.jsx(me,{size:20}),s==="pages"?"بالصفحات":"بالآيات"]},s))})]}),m&&e.jsxs("div",{className:"p-4 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-800 dark:text-indigo-200 text-xs font-medium rounded-2xl border border-indigo-100 dark:border-indigo-800 animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 font-bold text-indigo-900 dark:text-white",children:[e.jsx(oe,{size:16}),e.jsx("span",{children:"تغيير نظام الحفظ"})]}),e.jsxs("p",{className:"leading-relaxed mb-2",children:["سيتم تحويل تقدمك الحالي من ",e.jsxs("b",{children:["(",m.from,")"]})," إلى ما يعادله ",e.jsxs("b",{children:["(",m.to,")"]})," تقريباً."]}),e.jsxs("div",{className:"flex items-center gap-2 text-[10px] bg-white/50 dark:bg-black/20 p-2 rounded-lg",children:[e.jsx(xe,{size:12}),e.jsx("span",{children:'سيتم تحديث "نقطة البدء" تلقائياً لتكمل من مكانك الحالي.'})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-bold text-navy-700 dark:text-navy-300 flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-navy-200 dark:bg-navy-700 flex items-center justify-center text-xs font-bold",children:"2"}),"الكمية اليومية"]}),e.jsxs("div",{className:"bg-white dark:bg-navy-900 p-6 rounded-3xl shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-end mb-6",children:[e.jsxs("span",{className:"text-3xl font-bold text-navy-900 dark:text-white",children:[d(u),e.jsx("span",{className:"text-sm font-medium text-navy-400 mr-2",children:n==="pages"?"صفحات":"آيات"})]}),e.jsx("span",{className:"text-xs font-bold px-3 py-1 rounded-full bg-emerald-50 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400",children:V(u,n)})]}),e.jsx("input",{type:"range",min:"1",max:n==="pages"?20:50,value:u,onChange:s=>A(parseInt(s.target.value)),className:"w-full accent-emerald-500 h-2 bg-navy-100 dark:bg-navy-800 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-[10px] text-navy-400 font-bold mt-4",children:[e.jsx("span",{children:"سهل"}),e.jsx("span",{children:"مكثف"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-bold text-navy-700 dark:text-navy-300 flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-navy-200 dark:bg-navy-700 flex items-center justify-center text-xs font-bold",children:"3"}),"أيام الحفظ أسبوعياً"]}),e.jsxs("div",{className:"bg-white dark:bg-navy-900 p-4 rounded-3xl shadow-sm border border-navy-50 dark:border-navy-800",children:[e.jsx("div",{className:"flex justify-between items-center gap-2",children:[1,2,3,4,5,6,7].map(s=>e.jsx("button",{onClick:()=>z(s),className:`w-10 h-12 rounded-xl flex flex-col items-center justify-center transition-all ${b===s?"bg-gold-500 text-white shadow-lg scale-110":"bg-navy-50 dark:bg-navy-800 text-navy-400 hover:bg-navy-100 dark:hover:bg-navy-700"}`,children:e.jsx("span",{className:"text-lg font-bold font-sans",children:d(s)})},s))}),e.jsx("p",{className:"text-center text-xs text-navy-400 mt-3 font-medium",children:b===7?"حفظ يومي (همة عالية)":`سيتم الحفظ ${d(b)} أيام في الأسبوع`})]})]}),e.jsxs("div",{className:`space-y-3 transition-opacity ${m?"opacity-50 pointer-events-none":""}`,children:[e.jsxs("label",{className:"text-sm font-bold text-navy-700 dark:text-navy-300 flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-navy-200 dark:bg-navy-700 flex items-center justify-center text-xs font-bold",children:"4"}),m?"نقطة البدء (محسوبة تلقائياً)":"البدء من"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",min:"1",max:n==="pages"?604:6236,value:m?m.newStart:f,onChange:s=>I(parseInt(s.target.value)),className:"w-full p-4 rounded-2xl bg-white dark:bg-navy-900 border-2 border-transparent focus:border-gold-500 outline-none text-navy-900 dark:text-white font-bold text-lg shadow-sm pl-20 transition-all",disabled:!!m}),e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-xs font-bold text-navy-400 bg-navy-50 dark:bg-navy-800 px-2 py-1 rounded-lg",children:n==="pages"?"رقم الصفحة":"رقم الآية"})]})]}),e.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/10 p-4 rounded-2xl border border-emerald-100 dark:border-emerald-800 flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-800 rounded-full text-emerald-600 dark:text-emerald-300",children:e.jsx(ee,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-emerald-800 dark:text-emerald-300 font-bold",children:"تاريخ الختم المتوقع"}),e.jsxs("p",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400",children:[a.date," (",d(a.remainingDays)," يوم)"]})]})]})]}),e.jsxs("button",{onClick:_,className:"w-full py-4 bg-navy-900 hover:bg-navy-800 dark:bg-gold-500 dark:hover:bg-gold-400 text-white dark:text-navy-900 font-bold rounded-2xl shadow-xl shadow-navy-900/20 dark:shadow-gold-500/20 hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-3 text-lg mt-8",children:[e.jsx("span",{children:l?"حفظ التعديلات":"بدء الرحلة"}),!l&&e.jsx(ne,{className:"rotate-180",size:20})]})]})]})}return e.jsxs("div",{className:"flex flex-col h-full bg-gold-50 dark:bg-navy-950 font-sans",children:[e.jsx(Z,{title:"متابعة الحفظ",extra:e.jsx("button",{onClick:()=>{C(t.planType),A(t.amountPerDay),z(t.daysPerWeek),I(t.startPoint),D(!0)},className:"p-2 rounded-full hover:bg-white dark:hover:bg-navy-800 text-navy-600 dark:text-white transition-colors",children:e.jsx(le,{size:20})})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-5 pb-24 space-y-5",children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-navy-900 to-navy-800 dark:from-black dark:to-navy-900 rounded-[2.5rem] p-6 text-white shadow-2xl shadow-navy-900/30 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSIgb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMjAgMEwyMCA0ME0wIDIwTDQwIDIwIiAvPjwvc3ZnPg==')"}}),e.jsx("div",{className:"absolute -top-24 -right-24 w-64 h-64 bg-gold-500/20 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-32 bg-gradient-to-t from-navy-950/50 to-transparent"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[j?e.jsx("span",{className:"w-2 h-2 rounded-full bg-gold-400 animate-pulse"}):e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),e.jsx("span",{className:"text-xs font-bold text-navy-200 uppercase tracking-wider",children:j?"مبارك!":"ورد اليوم"})]}),j?e.jsx("h2",{className:"text-3xl font-bold font-quran text-gold-400 mt-2",children:"أتممت الختمة"}):e.jsxs("h2",{className:"text-3xl font-bold font-quran text-white",children:[d(t.amountPerDay)," ",e.jsx("span",{className:"text-lg text-navy-300",children:t.planType==="pages"?"صفحات":"آيات"})]})]}),e.jsxs("div",{className:"relative w-14 h-14",children:[e.jsxs("svg",{className:"w-full h-full -rotate-90",children:[e.jsx("circle",{cx:"50%",cy:"50%",r:"24",stroke:"currentColor",strokeWidth:"4",fill:"transparent",className:"text-white/10"}),e.jsx("circle",{cx:"50%",cy:"50%",r:"24",stroke:"currentColor",strokeWidth:"4",fill:"transparent",strokeDasharray:2*Math.PI*24,strokeDashoffset:2*Math.PI*24*(1-G/100),strokeLinecap:"round",className:"text-gold-400 transition-all duration-1000"})]}),e.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-[10px] font-bold",children:[d(G),"%"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-3 border border-white/5",children:[e.jsx("span",{className:"block text-[10px] text-navy-300 mb-1",children:"الموقع الحالي"}),e.jsxs("div",{className:"flex items-center gap-1.5 font-bold",children:[e.jsx(R,{size:14,className:"text-gold-400"}),e.jsxs("span",{children:[t.planType==="pages"?"صفحة":"آية"," ",d(Q)]})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-3 border border-white/5",children:[e.jsx("span",{className:"block text-[10px] text-navy-300 mb-1",children:"تاريخ الختم المتوقع"}),e.jsxs("div",{className:"flex items-center gap-1.5 font-bold",children:[e.jsx(te,{size:14,className:"text-gold-400"}),e.jsx("span",{className:"text-xs truncate",children:K.date})]})]})]}),j?e.jsxs("div",{className:"w-full bg-gold-500 text-navy-900 font-bold py-3.5 rounded-xl shadow-lg flex items-center justify-center gap-2 animate-in zoom-in duration-500",children:[e.jsx(ie,{size:20}),e.jsx("span",{children:"تقبل الله منك! ابدأ ختمة جديدة"})]}):e.jsxs("div",{className:"flex flex-col gap-2",children:[q?e.jsxs("div",{className:"w-full bg-emerald-500/20 backdrop-blur-md border border-emerald-500/30 text-emerald-100 font-bold py-3.5 rounded-xl shadow-lg flex items-center justify-center gap-2 animate-in zoom-in duration-300",children:[e.jsx(B,{size:20,className:"text-emerald-400"}),e.jsx("span",{children:"أحسنت! تم إنجاز الورد"})]}):e.jsxs("button",{onClick:J,className:"w-full bg-white text-navy-900 font-bold py-3.5 rounded-xl shadow-lg hover:bg-gold-50 transition-all active:scale-95 flex items-center justify-center gap-2 group",children:[e.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-navy-900 group-hover:bg-navy-900/10 transition-colors"}),"تسجيل إتمام الحفظ"]}),e.jsxs("button",{onClick:U,className:"w-full bg-white/10 hover:bg-white/20 text-white font-bold py-3 rounded-xl backdrop-blur-sm border border-white/10 flex items-center justify-center gap-2 transition-all",children:[e.jsx(de,{size:18}),e.jsxs("span",{children:["الذهاب للورد: ",t.planType==="pages"?`صفحة ${d(Math.min(t.startPoint+t.currentProgress,604))}`:`آية ${d(Math.min(t.startPoint+t.currentProgress,6236))}`]})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-3 px-2",children:[e.jsxs("h3",{className:"font-bold text-navy-800 dark:text-white flex items-center gap-2",children:[e.jsx(ce,{size:18,className:"text-orange-500 fill-orange-500"}),"سجل الالتزام"]}),e.jsxs("span",{className:"text-[10px] text-navy-400 bg-navy-100 dark:bg-navy-800 px-2 py-0.5 rounded-lg",children:[d(t.daysPerWeek)," أيام أسبوعياً"]})]}),e.jsx("div",{className:"bg-white dark:bg-navy-900 p-4 rounded-3xl shadow-sm border border-navy-100 dark:border-navy-800 overflow-x-auto no-scrollbar",children:e.jsx("div",{className:"flex justify-between items-center min-w-max gap-3",children:Array.from({length:7}).map((a,s)=>{const r=new Date;r.setDate(r.getDate()-(6-s));const o=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),k=String(r.getDate()).padStart(2,"0"),v=`${o}-${i}-${k}`,p=t.history.includes(v),h=r.toLocaleDateString("ar-EG",{weekday:"short"}).replace("ال",""),c=s===6;return e.jsxs("div",{className:`flex flex-col items-center gap-2 p-2 rounded-2xl min-w-[3rem] transition-all ${c?"bg-navy-50 dark:bg-navy-800":""}`,children:[e.jsx("span",{className:`text-[10px] font-bold ${c?"text-navy-800 dark:text-white":"text-navy-400"}`,children:h}),e.jsx("div",{className:`w-8 h-10 rounded-xl flex items-center justify-center transition-all duration-500 ${p?"bg-gold-500 text-navy-900 shadow-md scale-110":"bg-navy-100 dark:bg-navy-800 text-navy-300 dark:text-navy-600"}`,children:p?e.jsx(B,{size:16}):e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-current opacity-50"})})]},s)})})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-4 rounded-3xl border border-emerald-100 dark:border-emerald-800 flex flex-col justify-center items-center text-center",children:[e.jsx(pe,{size:24,className:"text-emerald-600 mb-2"}),e.jsx("span",{className:"text-2xl font-bold text-navy-900 dark:text-white font-sans",children:d(O)}),e.jsx("span",{className:"text-[10px] font-bold text-navy-500 dark:text-navy-400",children:"أيام متتالية (Streak)"})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-3xl border border-blue-100 dark:border-blue-800 flex flex-col justify-center items-center text-center",children:[e.jsx(ge,{size:24,className:"text-blue-600 mb-2"}),e.jsx("span",{className:"text-2xl font-bold text-navy-900 dark:text-white font-sans",children:d(t.currentProgress)}),e.jsxs("span",{className:"text-[10px] font-bold text-navy-500 dark:text-navy-400",children:["إجمالي ",t.planType==="pages"?"الصفحات":"الآيات"]})]})]})]})]})};export{we as Hifz};
